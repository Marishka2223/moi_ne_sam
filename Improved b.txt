<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechStore - Регистрация</title>
    <link rel="stylesheet" href="../styles/stiles_for_Main.css">
    <script src="../javaScript/functions.js" defer></script>
</head>
<body>
    <header class="header" style="display: flex; align-items: center; justify-content: center">
    </header>
    <main style="display: flex; align-items: center; justify-content: center; flex-direction: column; text-decoration: none;">
        <h1>Регистрация</h1>
        <form action="./register_func.php" method="post" id="form" onsubmit="return checkPassword(this)">
            <div class="contBlur">
                <input type="text" name="login" id="login" placeholder="Логин" pattern="^[A-Za-zА-Яа-яЁё\s]{3,}" required>
            </div>
            <br>
            <div>
                <input type="text" name="name" id="name" placeholder="Имя" pattern="^[A-Za-zА-Яа-яЁё\s]{2,}" required>
            </div>
            <br>
            <div>
                <input type="text" name="lastname" id="lastname" placeholder="Фамилия" pattern="^[A-Za-zА-Яа-яЁё\s]{2,}" required>
            </div>
            <br>
            <div>
                <input type="text" name="surname" id="surname" placeholder="Отчество" pattern="^[A-Za-zА-Яа-яЁё\s]{2,}" required>
            </div>
            <br>
            <div>
                <input type="email" name="email" id="email" placeholder="Почта" required>
            </div>
            <br>
            <div>
                <input type="tel" name="phone" id="phone" pattern="\+7\(\d{3}\)-\d{3}-\d{2}-\d{2}" placeholder="+7(XXX)-XXX-XX-XX" required>
            </div>
            <br>
            <div>
                <input type="password" name="password" id="password" placeholder="Пароль" pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[#@$%^&*()?<>«»])[A-Za-z\d#@$%^&*()?<>«»]{8,}$" required>
            </div>
            <br>
            <div>
                <input type="password" name="password_d" id="password_d" placeholder="Подтвердите пароль" required>
            </div>
            <br>
            <div>
                <input type="submit" value="Зарегистрироваться">
                <div class="blur"></div>
            </div>
        </form>

        <script>
            function checkPassword(form) {
                const password1 = form.password.value;
                const password2 = form.password_d.value;

                if (password1 === '') {
                    alert("Введите пароль");
                    return false;
                } else if (password2 === '') {
                    alert("Подтвердите пароль");
                    return false;
                } else if (password1 !== password2) {
                    alert("Пароли не совпадают.");
                    return false;
                }
                return true;
            }
        </script>

        <section id="links">
            <a class="reg" href="./index.php"><h2 class="text t2">Войти</h2></a>
        </section>

        <section id="err">
        </section>
    </main>
    <footer></footer>
</body>
</html>



================

maine.php:

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Главная заказов</title>
</head>
<body>

     <h1 style=" text-align: center; font-size: 3.1em;">Каталог товаров</h1>
    <?php
session_start();
// Подключение к базе данных
$conn = new mysqli("localhost", "root", "root", "shooterki");

if ($conn->connect_error) {
    die("Ошибка: " . $conn->connect_error);
}

// Запрос к базе данных
$query = "SELECT id, name, described, price, image, rate FROM tovar WHERE id > 0";
$result = $conn->query($query);

// Проверка, есть ли записи
if ($result->num_rows > 0) {
    // Вывод записей в ряд по 4
    echo '<div style="display: flex; flex-wrap: wrap; gap: 20px; padding: 20px;">';
    $count = 0;
    while ($row = $result->fetch_assoc()) {
        echo '<div style="flex: 1 1 50px; box-shadow: 0 0 10px rgba(0,0,0,0.1); padding: 15px; border-radius: 8px; text-align: center; width: 40px; flex-direction: row;">';
        
        echo '<img src="data:image/png;base64,' . base64_encode($row['image']) . '" width="200px" height="200px" style="border-radius: 8px;"/>';
        echo '<h2 style="font-size: 1.5em; margin: 10px 0;">' . htmlspecialchars($row['name']) . '</h2>';
        echo '<p style="font-size: 1em; color: #555; margin: 10px 0;">' . htmlspecialchars($row['described']) . '</p>';
        echo '<p style="font-size: 1em; color: #333; margin: 10px 0;">Рейтинг: ' . htmlspecialchars($row['rate']) . '</p>';
        echo '</div>';
        
        $count++;
        if ($count % 4 == 0) {
            echo '</div><div style="display: flex; flex-wrap: wrap; gap: 20px; padding: 20px;">';
        }
    }
    echo '</div>';
} else {
    // Если записей нет
    echo '<p style="text-align: center; font-size: 1.2em; color: #555; margin: 20px;">Товаров временно нет в наличии</p>';
}

// Закрытие соединения
$conn->close();
?> 
</body>
</html>

================
